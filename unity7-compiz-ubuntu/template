pkgname=unity7-compiz-ubuntu
base_version=0.9.13.1
extra_version=+18.04.20180302
version=${base_version}${extra_version}
revision=1
wrksrc="."

homepage="http://www.compiz.org/"
license="GPL"
short_desc="OpenGL window and compositing manager"
maintainer=" <>"

distfiles=https://launchpad.net/ubuntu/+archive/primary/+files/compiz_${version}.orig.tar.gz
checksum=9951d154108127b81c436cd169b7d1771865b33534aca7f1780e38d8236ebc71

conflicts="compiz-core libcompizconfig ccsm"
depends="pygtk"
hostmakedepends="pkg-config cmake intltool"
makedepends="boost-devel glu-devel dbus-devel fuse-devel libX11-devel libXext-devel
 libXdamage-devel libXcomposite-devel libXcursor-devel libxcb-devel libXrandr-devel
 libXinerama-devel libXi-devel libxml2-devel libxslt-devel
 glib-devel glibmm-devel startup-notification-devel libICE-devel libSM-devel
 python-devel pygtk-devel Pyrex cairo-devel pango-devel protobuf-devel gtk+3-devel
 libwnck-devel librsvg-devel libnotify-devel"
patch_args="-p1"

build_style="cmake"
configure_args="-DCOMPIZ_BUILD_WITH_RPATH=FALSE -DCMAKE_BUILD_TYPE=Release
 -DCOMPIZ_PACKAGING_ENABLED=TRUE -DUSE_GSETTINGS=ON -DCOMPIZ_DISABLE_GS_SCHEMAS_INSTALL=OFF -DCOMPIZ_BUILD_TESTING=OFF -DCOMPIZ_DISABLE_PLUGIN_KDE=ON -DUSE_KDE4=OFF"
